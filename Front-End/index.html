{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGC - Home</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        .home-menu {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 40px;
        }

        .menu-button {
            padding: 20px;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            color: white;
            background: #1a1a2e;
            border-radius: 12px;
            transition: background 0.2s;
        }

        .menu-button:hover {
            background: #333;
        }

        .menu-button-secondary {
            background: #6c757d;
        }

        .menu-button-secondary:hover {
            background: #5a6268;
        }

        .logout-button {
            background: #dc3545;
            margin-top: 30px;
        }

        .logout-button:hover {
            background: #f1939b;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>Personal Grade Calculator</h1>
            <p>Welcome to the best Grade calculator!!</p>
        </header>

        <main class="main-content">
            <div class="home-menu">
                <a href="/add-record/" class="menu-button">
                    Add New Record
                </a>

                <a href="{% url 'history_page' %}" class="menu-button menu-button-secondary">
                    View My History
                </a>

                <a href="/admin/" class="menu-button menu-button-secondary">
                    Admin Panel
                </a>

                <button id="logout-btn" class="menu-button logout-button">
                    Logout
                </button>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const token = localStorage.getItem("access");


            if (!token) {
                window.location.href = "/login/";
                return;
            }

            const logoutBtn = document.getElementById("logout-btn");
            logoutBtn.addEventListener("click", () => {
                localStorage.removeItem("access");
                localStorage.removeItem("refresh");
                window.location.href = "/login/";
            });
        });
    </script>
</body>

</html>